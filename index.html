<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>J√°szap√°ti K√∂rzeti Fog√°szat - Id≈ëpontfoglal√°s</title>
    <style>
        /* Sz√≠nv√°ltoz√≥k (Vil√°gos m√≥d - Alap√©rtelmezett) */
        :root {
            --bg-color: #f4f7f6;
            --box-bg: #ffffff;
            --text-main: #333333;
            --text-muted: #666666;
            --border-color: #cccccc;
            --btn-bg: #0056b3;
            --btn-hover: #004494;
            --btn-text: #ffffff;
            --phone-bg: #eaf4ff;
            --phone-border: #0056b3;
            --link-color: #0056b3;
            --input-bg: #ffffff;
        }

        /* S√∂t√©t m√≥d be√°ll√≠t√°sai (Automatikusan aktiv√°l√≥dik a telefon be√°ll√≠t√°sa alapj√°n) */
        @media (prefers-color-scheme: dark) {
            :root {
                --bg-color: #121212;
                --box-bg: #1e1e1e;
                --text-main: #e0e0e0;
                --text-muted: #aaaaaa;
                --border-color: #444444;
                --btn-bg: #0a84ff;
                --btn-hover: #0066cc;
                --btn-text: #ffffff;
                --phone-bg: #1a2a3a;
                --phone-border: #0a84ff;
                --link-color: #66b3ff;
                --input-bg: #2c2c2c;
            }
        }

        /* √Åltal√°nos form√°z√°s */
        body { 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; 
            text-align: center; 
            padding: 30px 15px; 
            background-color: var(--bg-color); 
            color: var(--text-main); 
            transition: background-color 0.3s, color 0.3s;
        }
        .doboz { 
            background: var(--box-bg); 
            padding: 40px 30px; 
            border-radius: 12px; 
            box-shadow: 0 8px 20px rgba(0,0,0,0.1); 
            max-width: 550px; 
            margin: 0 auto; 
            transition: background-color 0.3s, box-shadow 0.3s;
        }
        
        /* C√≠msorok */
        h2 { margin-top: 0; margin-bottom: 5px; font-size: 26px; font-weight: bold; }
        h3 { color: var(--text-muted); margin-top: 0; margin-bottom: 25px; font-weight: 400; font-size: 18px; }
        p.instrukcio { font-size: 15px; line-height: 1.6; margin-bottom: 20px; }
        
        /* Leg√∂rd√ºl≈ë men√º √©s beviteli mez≈ëk */
        select, input[type="number"] { 
            width: 100%; 
            padding: 14px; 
            margin: 15px 0; 
            font-size: 16px; 
            border-radius: 8px; 
            border: 1px solid var(--border-color); 
            background-color: var(--input-bg);
            color: var(--text-main);
            box-sizing: border-box;
            transition: background-color 0.3s, color 0.3s, border-color 0.3s;
        }
        select { cursor: pointer; }
        select:focus, input[type="number"]:focus { outline: none; border-color: var(--btn-bg); }
        
        /* A h√°zsz√°m mez≈ë alapb√≥l rejtve van */
        #hazszamTarolo {
            display: none;
            margin-bottom: 25px;
            animation: fadeIn 0.4s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Gomb */
        button { 
            background-color: var(--btn-bg); 
            color: var(--btn-text); 
            border: none; 
            padding: 16px 20px; 
            font-size: 18px; 
            border-radius: 8px; 
            cursor: pointer; 
            width: 100%; 
            font-weight: 600; 
            margin-top: 10px;
            transition: background-color 0.3s, transform 0.1s; 
        }
        button:hover { background-color: var(--btn-hover); }
        button:active { transform: scale(0.98); }
        
        /* Telefonos blokk */
        .telefon { 
            margin: 30px 0; 
            padding: 20px; 
            background-color: var(--phone-bg); 
            border-radius: 8px; 
            border-left: 5px solid var(--phone-border); 
            transition: background-color 0.3s, border-color 0.3s;
        }
        .telefon p { margin: 0 0 8px 0; font-size: 15px; }
        .telefon a { font-size: 22px; font-weight: bold; color: var(--link-color); text-decoration: none; transition: color 0.3s; }
        .telefon a:hover { text-decoration: underline; }

        /* T√©rk√©p blokk */
        .terkep-doboz { margin-top: 35px; text-align: left; }
        .terkep-doboz h4 { margin-bottom: 5px; font-size: 16px; }
        .terkep-doboz p { margin-top: 0; margin-bottom: 15px; font-size: 14px; color: var(--text-muted); }
        iframe { border-radius: 8px; filter: contrast(1.05); }
    </style>
</head>
<body>

    <div class="doboz">
        <h2>J√°szap√°ti K√∂rzeti Fog√°szat</h2>
        <h3>Online id≈ëpontfoglal√°s / Online booking</h3>
        
        <p class="instrukcio">
            <b>HU:</b> K√©rem, v√°lassza ki a list√°b√≥l a lakc√≠m√©t! A rendszer a k√∂rzet√©nek megfelel≈ë orvoshoz ir√°ny√≠tja.<br><br>
            <b>EN:</b> Please select your address from the list! The system will redirect you to the designated dentist.
        </p>

        <select id="utcaValaszto" onchange="utcaValtozott()">
            <option value="">-- K√©rem v√°lasszon lakc√≠met / Select address --</option>
        </select>

        <div id="hazszamTarolo">
            <p style="margin: 0 0 5px 0; font-size: 14px; font-weight: bold; color: var(--btn-bg); text-align: left;">
                Ehhez az utc√°hoz sz√ºks√©ges a h√°zsz√°m is:
            </p>
            <input type="number" id="hazszam" placeholder="H√°zsz√°m (pl. 12)" min="1">
        </div>

        <button onclick="iranyitas()">Id≈ëpontfoglal√°s / Book an appointment</button>

        <div class="telefon">
            <p>üìû Id≈ëpontfoglal√°s telefonon is lehets√©ges: <br> <i>Phone booking also available:</i></p>
            <a href="tel:+3657440338">+36 57 440 338</a>
        </div>

        <div class="terkep-doboz">
            <h4>üìç Rendel≈ënk c√≠me / Our Address</h4>
            <p>5130 J√°szap√°ti, Pet≈ëfi S√°ndor √∫t 4-6. (Eg√©szs√©gh√°z)</p>
            <iframe 
                src="https://maps.google.com/maps?q=5130%20J%C3%A1szap%C3%A1ti,%20Pet%C5%91fi%20S%C3%A1ndor%20%C3%BAt%204-6.&t=&z=15&ie=UTF8&iwloc=&output=embed" 
                width="100%" 
                height="250" 
                style="border:0;" 
                allowfullscreen="" 
                loading="lazy">
            </iframe>
        </div>
    </div>

    <script>
        // =================================================================
        // NAPT√ÅR LINKEK
        // =================================================================
        const orvos1Link = "https://calendar.google.com/calendar/u/0/appointments/schedules/AcZssZ33_dOoB25zF0iL4Pc73e2WKdozTIp-WZdIsL0T24jynfX_FSKOBzlcbvMj4JdUkXRUE8IhHw-K";
        const orvos2Link = "https://calendar.google.com/calendar/u/0/appointments/schedules/AcZssZ0C-TewK3hvCQndFFdoKo0RPuyMBgsf6Uodjp8K0G-TJiyqNh7S9egQv9HHxbtoL7JqGnA8kCAm";

        // =================================================================
        // AZ UTCALIST√ÅK √âS A LOGIKA (PDF alapj√°n)
        // =================================================================

        const korzet1Tiszta = [ "Ady Endre utca", "Ak√°cfa utca", "√Ålmos utca", "Als√≥nyom√°s tanya", "Antal utca", "Aradi utca", "√Årp√°d Vez√©r utca", "Balassi B√°lint utca", "Bart√≥k B√©la utca", "B√©ke utca", "Bem Ap√≥ utca", "Bercs√©nyi utca", "Busai utca", "Csaba vez√©r utca", "Csaj√°gi utca", "Cs√°t√©s tanya 2.", "Csint√≥ utca", "Damjanich √∫t", "Dank√≥ Pista utca", "Dob√≥ utca", "D√≥sa utca", "Esze Tam√°s utca", "Farkas utca", "Fels≈ënyom√°s tanya", "Felv√©gi utca", "G√°bor √Åron utca", "Galamb utca", "Gazda-farm 1.", "Gyeplegel≈ë tanya", "H√©t-vez√©rt utca", "Hold utca", "Ilona utca", "Istv√°n Major", "J√°sziv√°nyi √∫t", "J√°szkapit√°ny utca", "J√≥kai utca", "Kazinczy utca", "Kinizsi utca", "Kisfaludy utca", "Kocs√©r utca", "Kossuth Lajos √∫t", "Mez≈ë utca", "Munk√°csy t√©r", "Munk√°s utca", "Nap utca", "Ny√∫l utca", "Orgona utca", "P√©lyi √∫t", "R√°k√≥czi utca", "Rapi utca", "R√≥zsa utca", "Sas utca", "Simon Ign√°c utca", "Somogyi B√©la utca", "S√≥ti utca", "Szigligeti utca", "Szikszai G√°bor utca", "Sz√∂gv√©gi utca", "Sz≈±cs utca", "Tab√°ni utca", "Temet≈ë utca", "T√≥ utca", "Tompa Mih√°ly utca", "T√≥th utca", "Uj utca", "V√°g√≥ P√°l utca", "V√°roskert utca", "Vas√∫t utca", "Vasv√°ri utca", "Viola utca", "Winkler Istv√°n utca", "Zen√©sz utca", "J√°sziv√°ny - Ak√°cfa utca", "J√°sziv√°ny - K√∂ves √∫t", "J√°sziv√°ny - F≈ë √∫t", "J√°sziv√°ny - R√≥zsa utca", "J√°sziv√°ny - Kossuth utca" ];
        const korzet2Tiszta = [ "Alkotm√°ny utca", "Arany J√°nos utca", "√Årvai utca", "Attila utca", "Balla utca", "Be√∂thy Istv√°n utca", "Berd√≥ utca", "Berente utca", "Bethlen G√°bor utca", "Bocskai utca", "B√≥di utca", "Budai utca", "Cs√°t√©s tany√°k", "Di√≥fa utca", "D√≥zsa Gy√∂rgy utca", "Dr. Szlovencs√°k Imre √∫t", "Erdei utca", "Erkel Ferenc √∫t", "Farkas tany√°k", "Fasor utca", "Fekete utca", "F√ºrd≈ë utca", "F√ºrj utca", "F≈±zfa utca", "Gojsza utca", "Gy√∂ngyvir√°g utca", "Gy≈ëri utca", "H√°rsfa utca", "Holl√≥ utca", "Honv√©d utca", "H≈ës√∂k tere", "Hunyadi utca", "Husz√°r utca", "Ibolya utca", "Istv√°n kir√°ly park", "Ivanics utca", "J√°szkun utca", "J√°zmin utca", "Juh√°sz M√°t√© utca", "K√°lm√°n utca", "Kard utca", "Kasz√°sr√©t tanya", "Kikelet utca", "Kir√°ly tanya", "Koczka utca", "Kolozsv√°ri utca", "L√©hi utca", "Liliom utca", "Liszt Ferenc utca", "Litkey M√°t√© t√©r", "L√≥czi utca", "Losonczi utca", "Mad√°ch utca", "Mag utca", "Magyar utca", "Makkos tanya", "Mak√≥ utca", "Malom utca", "Margar√©ta utca", "M√≥kus utca", "Nagysz√©k tanya", "Napsug√°r utca", "Nefelejcs utca", "Ny√°r utca", "Ny√°rf√°s utca", "Nyil utca", "Ny√≠rfa utca", "Nyitrai utca", "Pacsirta utca", "Pajzs utca", "Palot√°si J√°nos utca", "Parajos tanya", "Parkerd≈ë utca", "Rezeda utca", "R√≥ka utca", "Rozmaring utca", "Rusvai utca", "Simonyi √≥bester utca", "S√≠p utca", "S√≥lyom utca", "Sport utca", "Szabads√°g utca", "Szegf≈± utca", "T√°ncsics √∫t", "Tanya tanya 069/4", "T√©l utca", "Temesv√°ri utca", "Tulip√°n utca", "T√ºz√©r utca", "Utassi utca", "Vince utca", "V√∂r√∂smarty utca", "Zr√≠nyi utca", "J√°sziv√°ny - Alkotm√°ny utca", "J√°sziv√°ny - Szabads√°g utca", "J√°sziv√°ny - J√°sz utca", "J√°sziv√°ny - Turul utca", "J√°sziv√°ny - Pet≈ëfi utca" ];

        const megosztottUtcak = {
            "Balajti Ill√©sn√© utca": (szam) => { return (szam % 2 !== 0) ? (szam <= 17 ? 1 : 2) : (szam <= 12 ? 1 : 2); },
            "Borb√°s utca": (szam) => { return (szam % 2 !== 0) ? (szam <= 9 ? 1 : 2) : (szam <= 26 ? 1 : 2); },
            "Istv√°n kir√°ly √∫t": (szam) => { return (szam % 2 !== 0) ? 1 : (szam >= 26 ? 1 : 2); },
            "J√≥zsef Attila utca": (szam) => { return (szam % 2 !== 0) ? (szam >= 15 ? 1 : 2) : (szam >= 10 ? 1 : 2); },
            "Kisj√°r√°si utca": (szam) => { return (szam % 2 !== 0) ? (szam <= 19 ? 1 : 2) : (szam <= 50 ? 1 : 2); },
            "Korona utca": (szam) => { return (szam <= 20 ? 1 : 2); },
            "Lados utca": (szam) => { return (szam % 2 !== 0) ? (szam <= 33 ? 1 : 2) : (szam <= 24 ? 1 : 2); },
            "Lehel utca": (szam) => { return (szam % 2 === 0) ? 1 : (szam <= 11 ? 1 : 2); },
            "Pet≈ëfi S√°ndor √∫t": (szam) => { return (szam % 2 === 0) ? (szam <= 20 ? 1 : 2) : 2; },
            "Sz√©ch√©nyi utca": (szam) => { return (szam % 2 === 0) ? 1 : 2; },
            "Sz≈ël≈ë utca": (szam) => { return (szam % 2 !== 0) ? (szam >= 39 ? 1 : 2) : (szam >= 36 ? 1 : 2); }
        };

        let osszesUtca = [];
        korzet1Tiszta.forEach(u => osszesUtca.push({ nev: u, tipus: "1" }));
        korzet2Tiszta.forEach(u => osszesUtca.push({ nev: u, tipus: "2" }));
        Object.keys(megosztottUtcak).forEach(u => osszesUtca.push({ nev: u, tipus: "okos" }));
        osszesUtca.sort((a, b) => a.nev.localeCompare(b.nev, 'hu'));

        // =================================================================
        // VEZ√âRL√âS
        // =================================================================

        window.onload = function() {
            const selectElem = document.getElementById("utcaValaszto");
            osszesUtca.forEach(utca => {
                let option = document.createElement("option");
                option.value = utca.tipus; 
                option.dataset.utcanev = utca.nev; 
                option.text = utca.nev;
                selectElem.appendChild(option);
            });
        };

        // Figyeli, hogy kell-e k√©rni h√°zsz√°mot
        function utcaValtozott() {
            const valasztottTipus = document.getElementById("utcaValaszto").value;
            const hazszamTarolo = document.getElementById("hazszamTarolo");
            const hazszamMezo = document.getElementById("hazszam");

            if (valasztottTipus === "okos") {
                hazszamTarolo.style.display = "block"; // Megmutatja a h√°zsz√°mos dobozt
                hazszamMezo.value = ""; 
                hazszamMezo.focus(); 
            } else {
                hazszamTarolo.style.display = "none"; // Elrejti, ha nem kell
            }
        }

        // Gomb megnyom√°sa
        function iranyitas() {
            const selectElem = document.getElementById("utcaValaszto");
            const valasztottTipus = selectElem.value;
            const utcanev = valasztottTipus ? selectElem.options[selectElem.selectedIndex].dataset.utcanev : "";
            const hazszam = document.getElementById("hazszam").value;

            if (valasztottTipus === "") {
                alert("K√©rem, a tov√°bbl√©p√©shez el≈ëbb v√°lassza ki a lakc√≠m√©t! / Please select your address first!");
                return;
            }

            let vegsoKorzet = 0;

            if (valasztottTipus === "1") vegsoKorzet = 1;
            if (valasztottTipus === "2") vegsoKorzet = 2;
            
            // Ha OKOS utca, lefuttatjuk a matematik√°t
            if (valasztottTipus === "okos") {
                if (hazszam === "") {
                    alert("Ehhez az utc√°hoz k√∂telez≈ë megadni a h√°zsz√°mot a pontos besorol√°shoz! / Please enter your house number!");
                    document.getElementById("hazszam").focus();
                    return;
                }
                const szam = parseInt(hazszam, 10);
                vegsoKorzet = megosztottUtcak[utcanev](szam);
            }

            // √ÅTIR√ÅNY√çT√ÅS A MEGFELEL≈ê NAPT√ÅRBA
            if (vegsoKorzet === 1) {
                window.location.href = orvos1Link;
            } else if (vegsoKorzet === 2) {
                window.location.href = orvos2Link;
            }
        }
    </script>

</body>
</html>
